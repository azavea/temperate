<div class="container wizard-header">
  <p class="row">Take action on</p>
  <div class="row" *ngIf="assessStep.namedRisk">
      <va-adaptive-need-box
        [adaptive_capacity]="assessStep.namedRisk.risk.adaptive_capacity"
        [popoverPlacement]="'right'"
        [potentialImpact]="assessStep.namedRisk.risk.impact_magnitude">
      </va-adaptive-need-box>
    <h2>
      {{ assessStep.namedRisk.name }}
    </h2>
  </div>
</div>
<wizard #wizard
        class="custom-steps"
        navigationMode="free"
        navBarLocation="left"
        navBarLayout="large-filled-symbols"
        [defaultStepIndex]="startingStep">
  <app-action-assess-step class="wizard-step"
                          #assessStep
                          wizardStep
                          optionalStep
                          [canExit]="assessStep.save"
                          navigationSymbol="{{ assessStep.navigationSymbol }}">
    <ng-template wizardStepTitle>
      <span class="step-number" [ngClass]="{'complete': assessStep.isStepComplete()}">1</span>
      {{ assessStep.title }}
    </ng-template>
  </app-action-assess-step>

  <app-action-implementation-step class="wizard-step"
                          #implementationStep
                          wizardStep
                          optionalStep
                          [canExit]="implementationStep.save"
                          stepTitle="{{ implementationStep.title }}"
                          navigationSymbol="{{ implementationStep.navigationSymbol }}">
    <ng-template wizardStepTitle>
      <span class="step-number" [ngClass]="{'complete': implementationStep.isStepComplete()}">2</span>
      {{ implementationStep.title }}
    </ng-template>
  </app-action-implementation-step>

  <app-action-improvements-step class="wizard-step"
                          #improvementsStep
                          wizardStep
                          optionalStep
                          [canExit]="improvementsStep.save"
                          stepTitle="{{ improvementsStep.title }}"
                          navigationSymbol="{{ improvementsStep.navigationSymbol }}">
    <ng-template wizardStepTitle>
      <span class="step-number" [ngClass]="{'complete': improvementsStep.isStepComplete()}">3</span>
      {{ improvementsStep.title }}
    </ng-template>
  </app-action-improvements-step>

  <app-action-category-step class="wizard-step"
                          #categoryStep
                          wizardStep
                          optionalStep
                          [canExit]="categoryStep.save"
                          stepTitle="{{ categoryStep.title }}"
                          navigationSymbol="{{ categoryStep.navigationSymbol }}">
    <ng-template wizardStepTitle>
      <span class="step-number" [ngClass]="{'complete': categoryStep.isStepComplete()}">4</span>
      {{ categoryStep.title }}
    </ng-template>
  </app-action-category-step>

  <app-action-funding-step class="wizard-step"
                          #fundingStep
                          wizardStep
                          optionalStep
                          [canExit]="fundingStep.save"
                          stepTitle="{{ fundingStep.title }}"
                          navigationSymbol="{{ fundingStep.navigationSymbol }}">
    <ng-template wizardStepTitle>
      <span class="step-number" [ngClass]="{'complete': fundingStep.isStepComplete()}">5</span>
      {{ fundingStep.title }}
    </ng-template>
  </app-action-funding-step>

  <app-action-review-step class="wizard-step"
                          #reviewStep
                          wizardCompletionStep
                          enableBackLinks
                          stepTitle="{{ reviewStep.title }}"
                          navigationSymbol="{{ reviewStep.navigationSymbol }}">
    <ng-template wizardStepTitle>
      <span class="step-number" [ngClass]="{'complete': allStepsCompleted()}">6</span>
      {{ reviewStep.title }}
    </ng-template>
  </app-action-review-step>

</wizard>
