<app-navbar></app-navbar>
<div class="main-container">
  <app-sidebar></app-sidebar>
  <main class="main-content" role="main">
    <section class="page-section page-intro">
      <h1 class="heading">Indicators</h1>
      <p class="paragraph-intro">You can use this page to look at temperature and precipitation data from two popular climate datasets: NASA NEX-GDDP or LOCA. See <a href="https://docs.climate.azavea.com/api_reference.html#dataset">datasets</a> for more information.</p> 
      <p>For brevity, &ldquo;temperature&rdquo; refers to surface air temperature and &ldquo;historic&rdquo; refers to 1950-2006. The indicators below come from the <a href="https://climate.azavea.com">Climate Change API.</a></p>
    </section>
    <section class="page-section">
      <h2>Top Concerns</h2>
      <p>These are the indicators that we think you should be including in your risk assessment. Feel free to add and remove from below â€“ you know your city best.</p>
      <app-top-concerns class="card card-full"></app-top-concerns>
    </section>
    <section class="indicator-filters" *ngIf="filters?.length">
      <div class="filter-header">
        <h2>Filter indicators</h2>
        <button class="button" (click)="resetAccordion()">reset</button>
      </div>
      <div class="card-container">
        <div class="card-empty"
             [ngClass]="{'active': activeFilter?.name === filter.name}"
             *ngFor="let filter of filters"
             (click)="setActiveFilter(filter)">
          <span class="icon" [ngClass]="filter.name | weatherEventIcon"></span>
          <h4>{{ filter.name }}</h4>
        </div>
      </div>
    </section>
    <section class="page-section indicators">
      <h2>All Indicators</h2>
      <div class="card-container" role="tablist" aria-multiselectable="true">
        <app-indicator-chart *ngFor="let indicator of allIndicators"
                             [indicator]="indicator"
                             [city]="city"
                             [isOpen]="accordionState[indicator.name]"
                             (toggled)="indicatorToggled(indicator.name, $event)">
        </app-indicator-chart>
      </div>
    </section>
  </main>
</div>
