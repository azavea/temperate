<app-navbar></app-navbar>
<div class="main-container">
  <app-sidebar></app-sidebar>
  <main class="main-content" role="main">
    <section class="page-intro">
      <h1 class="heading">Indicators</h1>
      <p class="paragraph-intro">Vivamus sagittis lacus vel augue laoreet rutrum faucibus dolor auctor. Duis mollis, est non commodo luctus, nisi erat porttitor ligula, eget lacinia odio sem nec elit. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.</p>
    </section>
    <section>
      <h2>Top Concerns</h2>
      <p>These are the indicators that we think you should be including in your risk assessment. Feel free to add or remove anyâ€”you know your city best!</p>
      <div id="top-concerns" class="card card-full">
        <app-top-concerns></app-top-concerns>
      </div>
    </section>
    <section class="indicator-filters" *ngIf="filters?.length">
      <div class="filter-header">
        <h2>Filter indicators</h2>
        <button class="button" (click)="resetAccordion()">reset</button>
      </div>
      <div class="card-container">
        <div class="card-empty"
             [ngClass]="{'active': activeFilter?.name === filter.name}"
             *ngFor="let filter of filters"
             (click)="setActiveFilter(filter)">
          <span class="icon" [ngClass]="filter.name | weatherEventIcon"></span>
          <h4>{{ filter.name }}</h4>
        </div>
      </div>
    </section>
    <section class="indicators">
      <h2>All Indicators</h2>
      <p>Below are all of the indicators for your city.</p>
      <div id="accordion" class="card-container" role="tablist" aria-multiselectable="true">
        <app-collapsible-chart
            *ngFor="let indicator of allIndicators"
            [isOpen]="accordionState[indicator.name]"
            [indicator]="indicator"
            [city]="city"
            (toggled)="indicatorToggled(indicator.name, $event)">
          <div header-action>
            <a class="add-top-concern">Add as top concern<i class="icon-question-circle-o"></i></a>
          </div>
        </app-collapsible-chart>
      </div>
    </section>
  </main>
</div>
