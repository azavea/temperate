<ng-template #riskPopoverTemplate>
  <h3 class="popover-title">Indicators related to <strong>{{ risk.weather_event.name | lowercase }}</strong></h3>
  <p>
    Climate change data indicators may help you determine the risk posed by this hazard.
  </p>
  <ul class="indicators-list" *ngIf="indicators?.length">
    <li class="indicators-list-item" *ngFor="let indicator of indicators">
      <button type="button" class="button-link" (click)="openIndicatorModal(indicator)">{{ indicator.label }}</button>
    </li>
  </ul>
</ng-template>

<div class="va-risk va-risk-popover-trigger" #popover="bs-popover" 
  [popover]="indicators !== undefined && indicators.length > 0 ? riskPopoverTemplate : null"
  container="body"
  outsideClick="true"
  containerClass="va-risk-popover"
  popoverTitle="{{ risk.weather_event.name }} on {{ risk.community_system.name }}"
  placement="right">{{ risk.title() }}
</div>

<app-modal-template #indicatorModal
     title="{{ selectedIndicator?.label }}"
     containerClass="va-risk-indicators-modal">
  <app-indicator-chart
    *ngIf="selectedIndicator"
    [indicator]="selectedIndicator"
    [city]="city">
  </app-indicator-chart>
</app-modal-template>
