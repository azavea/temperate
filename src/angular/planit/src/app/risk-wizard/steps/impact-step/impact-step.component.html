<div class="step-header">
  <div *ngIf="isDisabled" class="alert alert-warning">
    You must match a hazard to a community system to complete this step.
  </div>
  <h3 class="step-title">Potential Impact</h3>
  <p *ngIf="!isDisabled">
    How much impact might this hazard have on <strong>{{ risk.community_system?.name | lowercase }}</strong> over the next five years?</p>
</div>

<div class="step-content">
  <form [formGroup]="form">
    <div class="form-control-container">
      <label for="potential-impact">Potential impact</label>
      <app-option-dropdown buttonId="potential-impact"
                           [control]="form.controls['impact_magnitude']"
                           [options]="relativeOptions"
                           [disabled]="isDisabled">
      </app-option-dropdown>
    </div>
    <div class="form-control-container">
      <label for="impact-description">
        Describe the expected impact on your city
        <span class="optional">optional</span>
      </label>
      <textarea id="impact-description" formControlName="impact_description"></textarea>
    </div>
  </form>
</div>

<footer class="step-footer">
  <div class="step-footer-exit">
    <button type="button" class="button-link"
            *ngIf="!risk?.id"
            (click)="cancel()">Cancel</button>
    <button type="button" class="button-link"
            *ngIf="risk?.id"
            (click)="finish()">Finish assessment later</button>
  </div>
  <div class="step-footer-navigation">
    <button type="button" class="button"
            nextStep>Skip step</button>
    <button type="button" class="button button-primary"
            [disabled]="form.invalid || !isStepComplete()"
            nextStep>Next</button>
  </div>
</footer>
