<div class="step-header">
  <h3>Identify risk</h3>
</div>
<div class="step-content">
  <p>Match a hazard to a subset of people, structures or assets (sometimes referred to as a "community system") that the selected hazard may impact</p>
  <form [formGroup]="form">
  <div class="step-form-control">
    <label>Hazards
      <input class="form-control" formControlName="weather_event"
                                  tabindex="1"
                                  typeaheadOptionField="name"
                                  (typeaheadOnSelect)="itemSelected('weather_event', $event)"
                                  (blur)="itemBlurred('weather_event')"
                                  [typeahead]="weatherEvents"
                                  [typeaheadMinLength]="1"
                                  [typeaheadScrollable]="true"
                                  [typeaheadOptionsInScrollableView]="5"
                                  [container]="'body'">
      <div *ngIf="form.controls.weather_event.errors">
        <span *ngIf="form.controls.weather_event.errors.required">*Required</span>
        <span *ngIf="form.controls.weather_event.errors.autocomplete">*Not found</span>
      </div>
    </label>
  </div>
  <div>
    <label>Community system
      <input class="form-control" formControlName="community_system"
                                  typeaheadOptionField="name"
                                  tabindex="2"
                                  (typeaheadOnSelect)="itemSelected('community_system', $event)"
                                  (blur)="itemBlurred('community_system')"
                                  [typeahead]="communitySystems"
                                  [typeaheadMinLength]="1"
                                  [typeaheadScrollable]="true"
                                  [typeaheadOptionsInScrollableView]="5"
                                  [container]="'body'">
      <div *ngIf="form.controls.community_system.errors">
        <span *ngIf="form.controls.community_system.errors.required">*Required</span>
        <span *ngIf="form.controls.community_system.errors.autocomplete">*Not found</span>
      </div>
    </label>
  </div>
  </form>
</div>
<div class="step-footer">
  <button type="button"
          tabindex="3"
          [disabled]="!form.valid"
          nextStep
          (finalize)="save()">Continue</button>
  <button type="button" tabindex="4" (click)="cancel()">Cancel</button>
</div>
